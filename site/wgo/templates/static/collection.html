<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Training Module | Go Game Space</title>
    <script type="text/javascript" src="/support/js/Tocca.min.js"></script>
    <script type="text/javascript" src="/support/js/howler.min.js"></script>
    <script type="text/javascript" src="/support/wgo.js/wgo/wgo.js"></script>
    <script type="text/javascript" src="/support/wgo.js/wgo/kifu.js"></script>
    <script type="text/javascript" src="/support/wgo.js/wgo/sgfparser.js"></script>
    <script type="text/javascript" src="/support/wgo.js/wgo/player.js"></script>
    <script type="text/javascript" src="/support/js/sgfgrove.js"></script>
    <script type="text/javascript" src="/support/js/reorient.js"></script>
    <script type="text/javascript" src="/support/js/training.js"></script>
    <script type="text/javascript" src="/collections/topic_index.js"></script>
    <link rel="stylesheet" type="text/css" href="/support/css/training.css">
    <link rel="stylesheet" href="/support/css/wp-styles-munged.css" type="text/css">
</head>

<body>

<nav>
    <ul>
        <li><a href="/index.html">Topics</a></li>
    </ul>
</nav>

<main>
    <div id="training-container">
        <div id="board-and-controls">
            <div id="collection-info">
                <div id="collection-section"><% collection_section %></div>
                <div id="collection-group"><% collection_group %></div>
                <div id="collection-topic"><% collection_topic %></div>
            </div>

            <div id="tsumego"></div>
            <div id="tsumego-controls">
                <button id="shuffle-btn">Shuffle</button>
                <button id="prev-btn">Prev</button>
                <button id="next-btn">Next</button>
                <button id="retry-btn">Retry</button>
                <button id="undo-btn">Undo</button>
                <button id="hint-btn">Hint</button>
            </div>
        </div>

        <div id="info-box">
            <div id="basic-info">
                <div id="color-to-play"></div>
                <div id="problem-number"></div>
            </div>

            <div id="tsumego-comment"></div>
            <div id="game-info"></div>

            <div class="related-title">Related collections</div>

            <ul id="related"></ul>
        </div>
    </div>
</main>

<script>
    let problems = <% problems_json %>;
    initTraining({
        'collection_by_id': function(collection_id) {
            return '/collections/by_collection_id/' + collection_id + '.html';
        },
        'collection_by_filter': function(filter) {
            return '/collections/by_filter/' + filter + '.html';
        },
        'problem_by_id': function(problem_id) {
            let sub_dir     = problem_id.substring(0, 2);
            return '/collections/by_problem_id/' + sub_dir + '/' + problem_id + '.html';
        },
        'support_dir': function() {
            return '/support/';
        }
    });

</script>

</body>
</html>
